<!DOCTYPE html>
<html xmlns:ng="http://angularjs.org" id="ng-app" ng-app="app" ng-keyup="$broadcast('my:keyup', $event)">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Easy HtmlQ</title>

    <script src="src/jquery.min.js" type="text/javascript"></script>
    <script src="src/jquery-ui.min.js" type="text/javascript"></script>
    <script src="src/jquery.ui.touch-punch.min.js" type="text/javascript"></script>
    <script src="src/jquery-dateFormat.min.js" type="text/javascript"></script>
    <script src="src/bootstrap.min.js" type="text/javascript"></script>
    <script src="src/angular.min.js" type="text/javascript"></script>
    <script src="src/angular-ui-router.min.js" type="text/javascript"></script>
    <script src="src/ui-bootstrap-custom-tpls.min.js" type="text/javascript"></script>
    <script src="src/xml2json.min.js" type="text/javascript"></script>
    <script src="src/jsonpath.js" type="text/javascript"></script>
    <script src="src/underscore-min.js" type="text/javascript"></script>

    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.6/firebase-auth.js"></script>

    <script>
      // 1. Firebase 配置
      var firebaseConfig = {
        apiKey: "AIzaSyDf2uBe6ZuaKZ7FTYrJS-7fO5zJvIhD6vo",
        authDomain: "q-study-7ac05.firebaseapp.com",
        databaseURL: "https://q-study-7ac05-default-rtdb.firebaseio.com",
        projectId: "q-study-7ac05",
        storageBucket: "q-study-7ac05.firebasestorage.app",
        messagingSenderId: "835833145336",
        appId: "1:835833145336:web:b8ac1c92d76f07745ad80d",
        measurementId: "G-SNTZKH9W20"
      };

      // 2. 初始化 Firebase
      firebase.initializeApp(firebaseConfig);
      
      // 3. 定义全局变量 rootRef 供 htmlq.js 使用
      var rootRef = firebase.database().ref();

      // 4. 强制修复 WebSocket 连通性并接管提交动作
      console.log("正在尝试建立 Firebase 连接...");
      
      rootRef.
